!function(l){function e(e){for(var n,t,a=e[0],r=e[1],o=e[2],c=0,i=[];c<a.length;c++)t=a[c],Object.prototype.hasOwnProperty.call(u,t)&&u[t]&&i.push(u[t][0]),u[t]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n]);for(p&&p(e);i.length;)i.shift()();return f.push.apply(f,o||[]),s()}function s(){for(var e,n=0;n<f.length;n++){for(var t=f[n],a=!0,r=1;r<t.length;r++){var o=t[r];0!==u[o]&&(a=!1)}a&&(f.splice(n--,1),e=c(c.s=t[0]))}return e}var t={},u={0:0},f=[];function c(e){if(t[e])return t[e].exports;var n=t[e]={i:e,l:!1,exports:{}};return l[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=l,c.c=t,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(n,e){if(1&e&&(n=c(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var a in n)c.d(t,a,function(e){return n[e]}.bind(null,a));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="/";var n=window.webpackJsonp=window.webpackJsonp||[],a=n.push.bind(n);n.push=e,n=n.slice();for(var r=0;r<n.length;r++)e(n[r]);var p=a;f.push([95,1]),s()}({82:function(e,n,t){},95:function(e,n,t){"use strict";t.r(n);var u=t(0),f=t.n(u),a=t(5),r=t.n(a),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e,t){navigator.serviceWorker.register(e).then(function(n){n.onupdatefound=function(){var e=n.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(n)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(n)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}function i(e){function n(){o(null)}e.login;var t=f.a.useState(null),a=O()(t,2),r=a[0],o=a[1];return f.a.createElement("header",{className:"header-wrapper"},f.a.createElement("div",{className:"logo-container"}),f.a.createElement("div",{className:"menu-container"},f.a.createElement(C.a,{onClick:function(e){o(e.currentTarget)}}),f.a.createElement(N.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:n},f.a.createElement(T.a,{onClick:n},f.a.createElement(x.b,{className:"link",to:"".concat("/")},"Image Recognition Watson")),f.a.createElement(T.a,{onClick:n},f.a.createElement(x.b,{className:"link",to:"".concat("/","speech")},"Speech To Text")))))}function l(){var e=Object(u.useState)(""),n=O()(e,2),t=n[0],a=n[1],r=Object(u.useState)({class:"",score:0}),o=O()(r,2),c=o[0],i=o[1],l=Object(u.useRef)(null);function s(){return(s=U()(A.a.mark(function e(){var n,t,a,r,o;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&l.current&&l.current.files){e.next=2;break}return e.abrupt("return");case 2:return n=window.btoa("apikey:".concat(P)),t={headers:{Authorization:"Basic ".concat(n),"Content-Type":"application/x-www-form-urlencoded"}},(a=new FormData).append("images_file",l.current.files[0]),a.append("classifier_ids","DefaultCustomModel_1229742937"),a.append("threshold",.6),e.next=10,d.a.post(_,a,t);case 10:(r=e.sent).data&&r.data.images&&r.data.images.length&&(o=r.data.images[0].classifiers[0].classes[0],i({class:o.class,score:100*o.score}));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}return f.a.createElement("div",{className:"watson"},f.a.createElement(W.a,{className:"image-container"},f.a.createElement("input",{accept:"image/*",ref:l,style:{display:"none"},id:"raised-button-file",type:"file",onChange:function(e){!function(e){if(e){var n=new FileReader;n.onload=function(e){a(n.result)},n.readAsDataURL(e)}}(e.target.files[0])}}),t?f.a.createElement("img",{src:t,alt:"uploaded"}):f.a.createElement("label",{className:"upload-container",htmlFor:"raised-button-file"},f.a.createElement("span",null," Upload Image"))),f.a.createElement("div",{className:"button-container"},f.a.createElement(I.a,{color:"primary",size:"large",variant:"contained",onClick:function(){return s.apply(this,arguments)}}," Classify ")),c.class&&c.score&&f.a.createElement(W.a,{className:"result-container"},f.a.createElement("div",null,f.a.createElement("strong",null,"Class : "),c.class),f.a.createElement("div",null,f.a.createElement("strong",null,"Score : "),c.score)))}var s,p=t(29),d=t.n(p),m=function(){var e="";return(s=s||E.getToken())&&(e="Bearer "+s),e},g=window||{},h=g.btoa,v=g.atob,w=g.localStorage,E={register:function(e){var n=e?h(e):"";w.setItem("USER",n)},deregister:function(){w.clear()},getToken:function(){var e=w.getItem("USER")||"";return e=e&&(e?v(e):"")}},b=function(e,n){(n.response?n.response.data:n).timestamp=Date.now(),n&&n.response&&n.response.status},y=function(n){d.a.interceptors.request.use(function(e){return e.headers["content-type"]="application/json",e.headers.setBearerAuth&&(e.headers.Authorization=m(),delete e.headers.setBearerAuth),e},function(e){return b(n,e),Promise.reject(e)}),d.a.interceptors.response.use(function(e){if(200===e.status)return console.log(e),e},function(e){return b(n,e),Promise.reject(e)})},k=t(56),S=t(121),j=(t(82),t(19)),O=t.n(j),x=t(30),R=t(52),C=t.n(R),N=t(122),T=t(123),P="cm3HgaDCSOtpgHRBRkor37HkR_3L93XAWLqOfZsuYlBV",_="https://gateway.watsonplatform.net/visual-recognition/api/v3/classify?version=2018-03-19",B=t(38),A=t.n(B),L=t(55),U=t.n(L),W=t(119),I=t(120);window.SpeechRecognition=window.webkitSpeechRecognition||window.SpeechRecognition;function M(){if(!D)return f.a.createElement("div",null,"Speech Recgnition API not supported!");var e=Object(u.useState)({text:"",confidence:0}),n=O()(e,2),t=n[0],a=n[1],r=Object(u.useState)(!1),o=O()(r,2),c=o[0],i=o[1];return z.onsoundstart=function(e){return i(!0)},z.onsoundend=function(e){return i(!1)},z.onresult=function(e){var n=e.results[0][0];a({text:n.transcript,confidence:n.confidence})},f.a.createElement("div",null,f.a.createElement(W.a,{className:"result-container"},f.a.createElement("div",null,c?"Listening":"Ready to Listen"),t.text?f.a.createElement("div",null,f.a.createElement("strong",null,"Text : "),t.text):null,t.confidence?f.a.createElement("div",null,f.a.createElement("strong",null,"Confidence : "),t.confidence):null),f.a.createElement("div",{className:"button-container"},f.a.createElement(I.a,{color:"primary",size:"large",variant:"contained",onClick:function(){c?z.stop():z.start()}}," Start/Stop ")))}var D="SpeechRecognition"in window,z=D?new window.SpeechRecognition:{},F=t(21),H=Object(k.a)({palette:{primary:{main:"#0b66af"},secondary:{main:"#686868"}}});y();var q=f.a.createElement(S.a,{theme:H},f.a.createElement(function(e){return f.a.createElement(x.a,null,f.a.createElement(i,null),f.a.createElement("div",{className:"main-wrapper"},f.a.createElement(F.c,null,f.a.createElement(F.a,{exact:!0,path:"".concat("/")},f.a.createElement(l,null)),f.a.createElement(F.a,{exact:!0,path:"".concat("/","speech")},f.a.createElement(M,null)))))},null));r.a.render(q,document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("https://visual-recognition-fe.herokuapp.com",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("https://visual-recognition-fe.herokuapp.com","/service-worker.js");o?(function(n,t){fetch(n).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):c(n,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,n),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):c(e,n)})}}({})}});